# 열한번째 날

1. 정수론 문제였고
2. 입력값 파싱이 굉장히 귀찮은 문제였습니다.

## 입력 파싱

입력값이 거의 사실상 자연어라, regex 등을 쓰더라도 너무 귀찮을 것 같았습니다.

다행히 본 문제 입력값에도 원숭이 8마리밖에 없어서, 그냥 직접 입력했습니다.

대신 입력값 코드가 너무 길어져서 (처음엔 `::new` 패턴을 쓰지 않음) 오늘은 다른 파일로 뺐습니다.

## Part 1

입력 파싱만 끝나고 나면 사실 어려울 건 없습니다.

대신, `Monkey::tick`에서 다른 원숭이에게 item을 "던진다"는 걸 까먹고 벡터를 비우지 않으면 원숭이 사이에서 아이템이 복제되며 엄청나게 커집니다.

따라서 `iter`대신, Iterator를 "소모"하는 `drain`을 사용했습니다.

## Part 2

"worry level"이 평균적으로 10배에서 제곱으로 증가하는데, 10000번의 틱을 거쳐야 합니다.

처음에는 `num::BigInt` 라이브러리를 사용할까 했는데요, 아무리 라이브러리를 쓴다한들 `10^10000` 수준의 숫자를 처리하는데는 너무 많은 시간이 걸렸습니다.  
(10^300 쯤에서 거의 멈췄음..)

정수론 관련 가지고 있는 두뇌를 풀가동하였고,  
각 원숭이가 어떤 원숭이에게 아이템을 던질지 검사하기 위한 자신만의 소수를 가지고 있다는 점을 발견했습니다.

Part 1에서는 worry level이 발산하는 것을 막기 위해 매 틱에서 3으로 나눠주는데요, 이렇게 되면 각 원숭이가 가지고 있는 소수로 나눈 나머지가 보존되지 않습니다.

Part 2에서는 모든 원숭이가 가지고 있는 소수의 최소공배수로 한 번씩 나눠주면, 각 원숭이에 대한 나머지를 보존하면서 숫자의 발산을 막을 수 있습니다.

증명은 생략합니다. (독자의 연습 문제로 남깁니다ㅎ)
